# 법인카드 지출 내역 검증 시스템

법인카드 지출 내역을 검증하는 웹 애플리케이션입니다.

## 🌐 웹 버전 (React + Next.js)

### 로컬 개발 서버 실행
```bash
npm install
npm run dev
```

### Vercel 배포
1. GitHub에 코드를 푸시
2. [Vercel](https://vercel.com)에 로그인
3. "New Project" 클릭
4. GitHub 저장소 선택
5. 자동 배포 완료

## 📁 프로젝트 구조

```
amaranth-card-validation/
├── src/
│   ├── app/                    # Next.js App Router
│   │   ├── layout.tsx         # 루트 레이아웃
│   │   ├── page.tsx           # 메인 페이지
│   │   └── globals.css        # 전역 스타일
│   ├── components/             # React 컴포넌트
│   │   ├── FileUpload.tsx     # 파일 업로드 컴포넌트
│   │   └── ValidationResults.tsx # 검증 결과 컴포넌트
│   └── lib/                   # 유틸리티 함수
│       └── validation.ts      # 검증 로직
├── card_validation.py          # 파이썬 검증 스크립트
├── make_xlsx.py               # 파이썬 변환 스크립트
├── target.txt                 # 원본 텍스트 데이터
├── target.xlsx                # 변환된 엑셀 파일
└── README.md                  # 이 파일
```

## 🔧 기능

### 웹 애플리케이션 (React + Next.js)
- **파일 업로드**: 드래그 앤 드롭으로 엑셀 파일 업로드
- **실시간 검증**: 업로드 즉시 검증 결과 표시
- **반응형 UI**: 모바일/데스크톱 모두 지원
- **시각적 결과**: 통계 카드와 상세 결과 표시

### 검증 규칙
1. **지출용도가 점심/저녁인 경우 내용 형식 검증**
   - 내용에 "점심" 또는 "저녁"이 포함되어야 함
   - 내용에 사원코드(이름)가 포함되어야 함
   - 예상 형식: "점심, {사원명}" 또는 "저녁, {사원명}"

2. **부가세 검증**
   - 부가세가 0원이 아니어야 함

3. **같은 날짜에 같은 지출용도 그룹화**
   - 같은 거래일자에 같은 지출용도(점심/저녁)가 존재하면 모아서 표시

## 🚀 배포

### Vercel 배포 (권장)
```bash
# 1. GitHub에 코드 푸시
git add .
git commit -m "Initial commit"
git push origin main

# 2. Vercel에서 배포
# - vercel.com 접속
# - GitHub 계정 연결
# - 저장소 선택
# - 자동 배포 완료
```

### 로컬 개발
```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 빌드
npm run build

# 프로덕션 서버 실행
npm start
```

## 📊 검증 결과 예시

```
📈 통계:
  - 전체 행 수: 40
  - 오류: 2건
  - 경고: 2건
  - 정상: 38건

❌ 오류 (2건):
  - 35행: 내용에 사원코드 '백승한'이 포함되지 않음
  - 41행: 내용에 '저녁'이 포함되지 않음

⚠️  경고 (2건):
  - 35행: 내용 형식이 예상과 다름
  - 41행: 내용 형식이 예상과 다름
```

## 📋 데이터 형식

입력 데이터는 다음과 같은 형식이어야 합니다:

| 순번 | 거래일자 | 지출용도 | 내용 | 거래처 | 공급가액 | 부가세 | 합계 | 증빙 | 프로젝트 | 사원코드 |
|------|----------|----------|------|--------|----------|--------|------|------|----------|----------|
| 1 | 2025.08.02 | 법인카드_식대(저녁) | 저녁, 정헌진 | 지에스(GS)25 브라이튼 여의도1호 | 11,772 | 1,178 | 12,950 | 신용카드매출전표(법인) | 공통(CMP모니터링팀) | 정헌진 |

## 🛠️ 기술 스택

### 웹 애플리케이션
- **Frontend**: React 18, Next.js 14, TypeScript
- **Styling**: Tailwind CSS
- **File Processing**: xlsx, papaparse
- **Deployment**: Vercel

### 파이썬 스크립트
- **Data Processing**: pandas, openpyxl
- **Validation**: 커스텀 검증 로직

## 📝 주의사항

1. **내용 형식**: 점심/저녁 지출의 경우 "점심, {사원명}" 또는 "저녁, {사원명}" 형식으로 작성
2. **사원코드 일치**: 내용의 사원명이 사원코드와 일치해야 함
3. **부가세**: 0원이 아니어야 함
4. **파일 인코딩**: UTF-8 인코딩 사용 권장
5. **파일 형식**: 엑셀 파일(.xlsx)만 지원

## 🔗 링크

- **웹 애플리케이션**: [Vercel 배포 URL]
- **GitHub 저장소**: [GitHub URL]
- **문서**: 이 README 파일 